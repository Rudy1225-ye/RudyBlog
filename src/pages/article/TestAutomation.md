---
title: "前端自动化测试"
date: "2024/08"
author: "Rudy"
tags: "前端工程化"
id: "6"
desc: "手动测试是由实际人员进行的典型测试方法。质量保证工程师点击该应用，检查它能否正常运行，同时尝试破坏它。最常见的方法是探索性测试，在此类测试中，工程师根据预定义的路径或核对清单，根据应用了解情况调查应用。自动化测试由计算机执行。质量保证工程师会实现此功能，以自动处理重复的单调测试。测试自动化应该可以使人们腾出时间专注于探索性测试和创造性地解决问题。例如，确保用户体验质量或保护高风险业务逻辑。"
---

# 前端测试

## 两种测试模式

### 手动测试与自动测试

- **手动测试**。这是由实际人员进行的典型测试方法。质量保证工程师点击该应用，检查它能否正常运行，同时尝试破坏它。最常见的方法是探索性测试，在此类测试中，工程师根据预定义的路径或核对清单，根据应用了解情况调查应用。
- **自动化测试**。这类测试由计算机执行。质量保证工程师会实现此功能，以自动处理重复的单调测试。

### 测试策略

- **不透明盒测试**（或黑盒测试）。评估基准时，应分析组件或系统的功能性或非功能性要求（规范），而不考虑其内部结构。
- **透明盒测试**（或白盒测试）是将上述盒子的内部结构考虑在内的过程。换句话说，您的应用在后台的工作原理。

## 三种常见的自动化测试类型

### 单元测试

前端单元测试是指对前端应用中的最小可测试单元（通常是一个函数、组件、或模块）进行独立测试的过程。其目的是验证这些单元在各种情况下都能按照预期运行，确保代码的可靠性和可维护性。

#### 单元测试的特点

1. **测试范围小**: 单元测试专注于应用中的单个功能或组件，而不涉及与其他组件的交互。这种测试范围较小，容易定位问题。
2. **独立性**: 单元测试通常不依赖于外部资源（如数据库、API 等），通过使用模拟对象（Mock）或测试替身（Stub）来隔离测试单元。
3. **快速运行**: 由于测试的范围有限，单元测试通常执行速度非常快，可以在开发过程中频繁运行。
4. **自动化**: 单元测试通常通过测试框架自动执行，开发者可以在代码提交时自动运行这些测试，以确保代码质量。

#### 前端单元测试的对象

在前端开发中，单元测试的主要对象包括：

1. **函数**: 测试 JavaScript 函数的输入输出是否符合预期。例如，测试一个计算函数，给定不同的输入，检查它返回的结果是否正确。
2. **组件**: 在框架（如 Vue.js、React）中，组件是 UI 的基本构建块。单元测试可以检查组件在不同状态下的渲染结果，以及组件方法的行为。
3. **模块**: 测试某个模块或类的特定功能，确保它们在独立运行时表现良好。

#### 常用的前端单元测试框架

- **Jest**: 一个功能强大的 JavaScript 测试框架，提供断言库、模拟工具、和快照测试等功能，广泛用于 React 和其他 JavaScript 项目的单元测试。
- **Vitest**: 一个与 Vite 深度集成的测试框架，适合用于现代前端项目，特别是 Vue.js 项目。

### 集成测试

集成测试侧重于组件或系统之间的交互。换言之，它们能否协同发挥作用。API 或组件测试的典型示例是集成测试。

#### 集成测试的特点

1. **测试范围广**: 集成测试通常涉及多个模块或组件之间的交互，比如测试一个组件调用了另一个组件的行为，或者前端与后端 API 的集成。
2. **依赖性**: 集成测试不像单元测试那样完全独立运行，往往依赖于其他组件或外部系统（如数据库、API 等）。因此，集成测试可能需要设置测试环境或使用模拟服务。
3. **检测协同问题**: 集成测试旨在发现单个组件正常工作但集成在一起时出现的协同问题，确保系统整体运行稳定。
4. **中等运行速度**: 由于涉及多个组件或系统的集成，集成测试的执行时间通常比单元测试长，但短于端到端测试。

#### 集成测试的对象

在前端开发中，集成测试的主要对象包括：

1. **组件之间的交互**: 确保在复杂应用中，多个组件能够正确地交互。例如，表单组件的输入数据能否正确传递到父组件或服务层。
2. **前端与后端 API 的交互**: 测试前端代码与后端服务（API）的集成，确保数据的请求和响应都符合预期。
3. **状态管理**: 测试状态管理库（如 Redux、Vuex）在应用中的集成，确保状态的更新和读取都按预期进行。

### 端到端测试

这些测试通常称为界面测试，此名称可以更好地解释它们的功能。这些测试会与应用的界面（包括完整的应用堆栈）进行交互，并从两端测试您的应用。

#### 视觉界面测试

界面测试的一个有趣的子类别是视觉测试。这些测试是经过扩展的端到端测试，提供一种验证应用可见输出的方法。此类测试会在更改后截取一张屏幕截图，再截取另一个包含“现状”（或黄金文件）的屏幕截图，然后将这些结果提供给人工审核员进行检查和检查。换句话说，它有助于在页面外观中找到“视觉 bug”，而不仅仅是功能性 bug，而不是明确写成断言。

#### 常用端到端测试框架

- **WebdriverIO**: 一个用于自动化 Web 应用程序的端到端测试框架，基于 WebDriver 协议。它能够在真实浏览器环境中执行自动化测试，用于测试整个应用程序的用户交互、页面渲染和后端通信等方面。
